{"ast":null,"code":"'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _getChildEventSubscriber=require(\"./getChildEventSubscriber\");var _getChildEventSubscriber2=_interopRequireDefault(_getChildEventSubscriber);var _getChildRouter=require(\"./getChildRouter\");var _getChildRouter2=_interopRequireDefault(_getChildRouter);var _getNavigationActionCreators=require(\"./routers/getNavigationActionCreators\");var _getNavigationActionCreators2=_interopRequireDefault(_getNavigationActionCreators);var _getChildrenNavigationCache=require(\"./getChildrenNavigationCache\");var _getChildrenNavigationCache2=_interopRequireDefault(_getChildrenNavigationCache);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var createParamGetter=function createParamGetter(route){return function(paramName,defaultValue){var params=route.params;if(params&&paramName in params){return params[paramName];}return defaultValue;};};function _getChildNavigation(navigation,childKey,getCurrentParentNavigation){var children=(0,_getChildrenNavigationCache2.default)(navigation);var childRoute=navigation.state.routes.find(function(r){return r.key===childKey;});if(!childRoute){return null;}if(children[childKey]&&children[childKey].state===childRoute){return children[childKey];}var childRouter=(0,_getChildRouter2.default)(navigation.router,childRoute.routeName);var focusedGrandChildRoute=childRoute.routes&&typeof childRoute.index==='number'?childRoute.routes[childRoute.index]:null;var actionCreators=_extends({},navigation.actions,navigation.router.getActionCreators(childRoute,navigation.state.key),childRouter?childRouter.getActionCreators(focusedGrandChildRoute,childRoute.key):{},(0,_getNavigationActionCreators2.default)(childRoute));var actionHelpers={};Object.keys(actionCreators).forEach(function(actionName){actionHelpers[actionName]=function(){var actionCreator=actionCreators[actionName];var action=actionCreator.apply(void 0,arguments);return navigation.dispatch(action);};});if(children[childKey]){children[childKey]=_extends({},children[childKey],actionHelpers,{state:childRoute,router:childRouter,actions:actionCreators,getParam:createParamGetter(childRoute)});return children[childKey];}else{var childSubscriber=(0,_getChildEventSubscriber2.default)(navigation.addListener,childKey);children[childKey]=_extends({},actionHelpers,{state:childRoute,router:childRouter,actions:actionCreators,getParam:createParamGetter(childRoute),getChildNavigation:function getChildNavigation(grandChildKey){return _getChildNavigation(children[childKey],grandChildKey,function(){var nav=getCurrentParentNavigation();return nav&&nav.getChildNavigation(childKey);});},isFocused:function isFocused(){var currentNavigation=getCurrentParentNavigation();if(!currentNavigation){return false;}var _currentNavigation$st=currentNavigation.state,routes=_currentNavigation$st.routes,index=_currentNavigation$st.index;if(!currentNavigation.isFocused()){return false;}if(routes[index].key===childKey){return true;}return false;},dispatch:navigation.dispatch,getScreenProps:navigation.getScreenProps,dangerouslyGetParent:getCurrentParentNavigation,addListener:childSubscriber.addListener,emit:childSubscriber.emit});return children[childKey];}}exports.default=_getChildNavigation;","map":{"version":3,"sources":["/Users/ntareguy/Downloads/gwizamobile1/node_modules/@react-navigation/core/dist/getChildNavigation.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_getChildEventSubscriber","require","_getChildEventSubscriber2","_interopRequireDefault","_getChildRouter","_getChildRouter2","_getNavigationActionCreators","_getNavigationActionCreators2","_getChildrenNavigationCache","_getChildrenNavigationCache2","obj","__esModule","default","createParamGetter","route","paramName","defaultValue","params","getChildNavigation","navigation","childKey","getCurrentParentNavigation","children","childRoute","state","routes","find","r","childRouter","router","routeName","focusedGrandChildRoute","index","actionCreators","actions","getActionCreators","actionHelpers","keys","forEach","actionName","actionCreator","action","dispatch","getParam","childSubscriber","addListener","grandChildKey","nav","isFocused","currentNavigation","getScreenProps","dangerouslyGetParent","emit"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _getChildEventSubscriber = require('./getChildEventSubscriber');\n\nvar _getChildEventSubscriber2 = _interopRequireDefault(_getChildEventSubscriber);\n\nvar _getChildRouter = require('./getChildRouter');\n\nvar _getChildRouter2 = _interopRequireDefault(_getChildRouter);\n\nvar _getNavigationActionCreators = require('./routers/getNavigationActionCreators');\n\nvar _getNavigationActionCreators2 = _interopRequireDefault(_getNavigationActionCreators);\n\nvar _getChildrenNavigationCache = require('./getChildrenNavigationCache');\n\nvar _getChildrenNavigationCache2 = _interopRequireDefault(_getChildrenNavigationCache);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createParamGetter = route => (paramName, defaultValue) => {\n  var params = route.params;\n\n  if (params && paramName in params) {\n    return params[paramName];\n  }\n\n  return defaultValue;\n};\n\nfunction getChildNavigation(navigation, childKey, getCurrentParentNavigation) {\n  var children = (0, _getChildrenNavigationCache2.default)(navigation);\n  var childRoute = navigation.state.routes.find(r => r.key === childKey);\n\n  if (!childRoute) {\n    return null;\n  }\n\n  if (children[childKey] && children[childKey].state === childRoute) {\n    return children[childKey];\n  }\n\n  var childRouter = (0, _getChildRouter2.default)(navigation.router, childRoute.routeName);\n\n  // If the route has children, we'll use this to pass in to the action creators\n  // for the childRouter so that any action that depends on the active route will\n  // behave as expected. We don't explicitly require that routers implement routes\n  // and index properties, but if we did then we would put an invariant here to\n  // ensure that a focusedGrandChildRoute exists if childRouter is defined.\n  var focusedGrandChildRoute = childRoute.routes && typeof childRoute.index === 'number' ? childRoute.routes[childRoute.index] : null;\n\n  var actionCreators = _extends({}, navigation.actions, navigation.router.getActionCreators(childRoute, navigation.state.key), childRouter ? childRouter.getActionCreators(focusedGrandChildRoute, childRoute.key) : {}, (0, _getNavigationActionCreators2.default)(childRoute));\n\n  var actionHelpers = {};\n  Object.keys(actionCreators).forEach(actionName => {\n    actionHelpers[actionName] = (...args) => {\n      var actionCreator = actionCreators[actionName];\n      var action = actionCreator(...args);\n      return navigation.dispatch(action);\n    };\n  });\n\n  if (children[childKey]) {\n    children[childKey] = _extends({}, children[childKey], actionHelpers, {\n      state: childRoute,\n      router: childRouter,\n      actions: actionCreators,\n      getParam: createParamGetter(childRoute)\n    });\n    return children[childKey];\n  } else {\n    var childSubscriber = (0, _getChildEventSubscriber2.default)(navigation.addListener, childKey);\n\n    children[childKey] = _extends({}, actionHelpers, {\n\n      state: childRoute,\n      router: childRouter,\n      actions: actionCreators,\n      getParam: createParamGetter(childRoute),\n\n      getChildNavigation: grandChildKey => getChildNavigation(children[childKey], grandChildKey, () => {\n        var nav = getCurrentParentNavigation();\n        return nav && nav.getChildNavigation(childKey);\n      }),\n\n      isFocused: () => {\n        var currentNavigation = getCurrentParentNavigation();\n        if (!currentNavigation) {\n          return false;\n        }\n        var { routes, index } = currentNavigation.state;\n        if (!currentNavigation.isFocused()) {\n          return false;\n        }\n        if (routes[index].key === childKey) {\n          return true;\n        }\n        return false;\n      },\n      dispatch: navigation.dispatch,\n      getScreenProps: navigation.getScreenProps,\n      dangerouslyGetParent: getCurrentParentNavigation,\n      addListener: childSubscriber.addListener,\n      emit: childSubscriber.emit\n    });\n    return children[childKey];\n  }\n}\n\nexports.default = getChildNavigation;"]},"metadata":{},"sourceType":"script"}