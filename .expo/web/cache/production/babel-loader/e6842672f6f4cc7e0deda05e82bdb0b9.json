{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _objectWithoutProperties2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _defineProperty2=_interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));var _objectSpread3=_interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf3=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _react=_interopRequireDefault(require(\"react\"));var _reactNative=require(\"react-native\");var _native=require(\"@react-navigation/native\");var _HeaderTitle=_interopRequireDefault(require(\"./HeaderTitle\"));var _HeaderBackButton=_interopRequireDefault(require(\"./HeaderBackButton\"));var _ModularHeaderBackButton=_interopRequireDefault(require(\"./ModularHeaderBackButton\"));var _HeaderStyleInterpolator=_interopRequireDefault(require(\"./HeaderStyleInterpolator\"));var APPBAR_HEIGHT=_reactNative.Platform.OS==='ios'?44:56;var STATUSBAR_HEIGHT=_reactNative.Platform.OS==='ios'?20:0;var TITLE_OFFSET_CENTER_ALIGN=_reactNative.Platform.OS==='ios'?70:56;var TITLE_OFFSET_LEFT_ALIGN=_reactNative.Platform.OS==='ios'?20:56;var getTitleOffsets=function getTitleOffsets(layoutPreset,forceBackTitle,hasLeftComponent,hasRightComponent){if(layoutPreset==='left'){var style={left:TITLE_OFFSET_LEFT_ALIGN,right:TITLE_OFFSET_LEFT_ALIGN};if(!hasLeftComponent){style.left=0;}if(!hasRightComponent){style.right=0;}return style;}else if(layoutPreset==='center'){var _style={left:TITLE_OFFSET_CENTER_ALIGN,right:TITLE_OFFSET_CENTER_ALIGN};if(!hasLeftComponent&&!hasRightComponent){_style.left=0;_style.right=0;}return _style;}};var getAppBarHeight=function getAppBarHeight(isLandscape){return _reactNative.Platform.OS==='ios'?isLandscape&&!_reactNative.Platform.isPad?32:44:56;};var Header=function(_React$PureComponent){(0,_inherits2.default)(Header,_React$PureComponent);function Header(){var _getPrototypeOf2;var _this;(0,_classCallCheck2.default)(this,Header);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=(0,_possibleConstructorReturn2.default)(this,(_getPrototypeOf2=(0,_getPrototypeOf3.default)(Header)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={widths:{}};_this._renderTitleComponent=function(props){var layoutPreset=_this.props.layoutPreset;var options=props.scene.descriptor.options;var headerTitle=options.headerTitle;if(_react.default.isValidElement(headerTitle)){return headerTitle;}var titleString=_this._getHeaderTitleString(props.scene);var titleStyle=options.headerTitleStyle;var color=options.headerTintColor;var allowFontScaling=options.headerTitleAllowFontScaling;var onLayout=layoutPreset==='center'?function(e){_this.setState({widths:(0,_objectSpread3.default)({},_this.state.widths,(0,_defineProperty2.default)({},props.scene.key,e.nativeEvent.layout.width))});}:undefined;var HeaderTitleComponent=headerTitle&&typeof headerTitle!=='string'?headerTitle:_HeaderTitle.default;return _react.default.createElement(HeaderTitleComponent,{onLayout:onLayout,allowFontScaling:allowFontScaling==null?true:allowFontScaling,style:[color?{color:color}:null,layoutPreset==='center'?{textAlign:'center'}:{textAlign:'left'},titleStyle]},titleString);};_this._renderLeftComponent=function(props){var options=props.scene.descriptor.options;if(_react.default.isValidElement(options.headerLeft)||options.headerLeft===null){return options.headerLeft;}if(!options.headerLeft&&props.scene.index===0){return;}var backButtonTitle=_this._getBackButtonTitleString(props.scene);var truncatedBackButtonTitle=_this._getTruncatedBackButtonTitle(props.scene);var width=_this.state.widths[props.scene.key]?(_this.props.layout.initWidth-_this.state.widths[props.scene.key])/2:undefined;var RenderedLeftComponent=options.headerLeft||_HeaderBackButton.default;var goBack=function goBack(){requestAnimationFrame(function(){props.scene.descriptor.navigation.goBack(props.scene.descriptor.key);});};return _react.default.createElement(RenderedLeftComponent,{onPress:goBack,pressColorAndroid:options.headerPressColorAndroid,tintColor:options.headerTintColor,backImage:options.headerBackImage,title:backButtonTitle,truncatedTitle:truncatedBackButtonTitle,backTitleVisible:_this.props.backTitleVisible,titleStyle:options.headerBackTitleStyle,layoutPreset:_this.props.layoutPreset,width:width,scene:props.scene});};_this._renderModularLeftComponent=function(props,ButtonContainerComponent,LabelContainerComponent){var _props$scene$descript=props.scene.descriptor,options=_props$scene$descript.options,navigation=_props$scene$descript.navigation;var backButtonTitle=_this._getBackButtonTitleString(props.scene);var truncatedBackButtonTitle=_this._getTruncatedBackButtonTitle(props.scene);var width=_this.state.widths[props.scene.key]?(_this.props.layout.initWidth-_this.state.widths[props.scene.key])/2:undefined;var goBack=function goBack(){requestAnimationFrame(function(){navigation.goBack(props.scene.descriptor.key);});};return _react.default.createElement(_ModularHeaderBackButton.default,{onPress:goBack,ButtonContainerComponent:ButtonContainerComponent,LabelContainerComponent:LabelContainerComponent,backTitleVisible:_this.props.backTitleVisible,pressColorAndroid:options.headerPressColorAndroid,tintColor:options.headerTintColor,backImage:options.headerBackImage,title:backButtonTitle,truncatedTitle:truncatedBackButtonTitle,titleStyle:options.headerBackTitleStyle,width:width});};_this._renderRightComponent=function(props){var headerRight=props.scene.descriptor.options.headerRight;return headerRight||null;};return _this;}(0,_createClass2.default)(Header,[{key:\"_getHeaderTitleString\",value:function _getHeaderTitleString(scene){var options=scene.descriptor.options;if(typeof options.headerTitle==='string'){return options.headerTitle;}if(options.title&&typeof options.title!=='string'&&__DEV__){throw new Error(\"Invalid title for route \\\"\"+scene.route.routeName+\"\\\" - title must be string or null, instead it was of type \"+typeof options.title);}return options.title;}},{key:\"_getLastScene\",value:function _getLastScene(scene){return this.props.scenes.find(function(s){return s.index===scene.index-1;});}},{key:\"_getBackButtonTitleString\",value:function _getBackButtonTitleString(scene){var lastScene=this._getLastScene(scene);if(!lastScene){return null;}var headerBackTitle=lastScene.descriptor.options.headerBackTitle;if(headerBackTitle||headerBackTitle===null){return headerBackTitle;}return this._getHeaderTitleString(lastScene);}},{key:\"_getTruncatedBackButtonTitle\",value:function _getTruncatedBackButtonTitle(scene){var lastScene=this._getLastScene(scene);if(!lastScene){return null;}return lastScene.descriptor.options.headerTruncatedBackTitle;}},{key:\"_renderLeft\",value:function _renderLeft(props){var options=props.scene.descriptor.options;var transitionPreset=this.props.transitionPreset;var style=props.style;if(options.headerLeftContainerStyle){style=[style,options.headerLeftContainerStyle];}if(transitionPreset!=='uikit'||options.headerBackImage||options.headerLeft||options.headerLeft===null){return this._renderSubView((0,_objectSpread3.default)({},props,{style:style}),'left',this._renderLeftComponent,this.props.leftInterpolator);}else{return this._renderModularSubView((0,_objectSpread3.default)({},props,{style:style}),'left',this._renderModularLeftComponent,this.props.leftLabelInterpolator,this.props.leftButtonInterpolator);}}},{key:\"_renderTitle\",value:function _renderTitle(props,options){var _this$props=this.props,layoutPreset=_this$props.layoutPreset,transitionPreset=_this$props.transitionPreset;var style=[{justifyContent:layoutPreset==='center'?'center':'flex-start'},getTitleOffsets(layoutPreset,false,options.hasLeftComponent,options.hasRightComponent),options.headerTitleContainerStyle];return this._renderSubView((0,_objectSpread3.default)({},props,{style:style}),'title',this._renderTitleComponent,transitionPreset==='uikit'?this.props.titleFromLeftInterpolator:this.props.titleInterpolator);}},{key:\"_renderRight\",value:function _renderRight(props){var options=props.scene.descriptor.options;var style=props.style;if(options.headerRightContainerStyle){style=[style,options.headerRightContainerStyle];}return this._renderSubView((0,_objectSpread3.default)({},props,{style:style}),'right',this._renderRightComponent,this.props.rightInterpolator);}},{key:\"_renderBackground\",value:function _renderBackground(props){var _props$scene=props.scene,index=_props$scene.index,options=_props$scene.descriptor.options;var offset=this.props.navigation.state.index-index;if(Math.abs(offset)>2){return null;}return this._renderSubView((0,_objectSpread3.default)({},props,{style:_reactNative.StyleSheet.absoluteFill}),'background',function(){return options.headerBackground;},this.props.backgroundInterpolator);}},{key:\"_renderModularSubView\",value:function _renderModularSubView(props,name,renderer,labelStyleInterpolator,buttonStyleInterpolator){var _this2=this;var scene=props.scene;var index=scene.index,isStale=scene.isStale,key=scene.key;if(index===0){return;}var offset=this.props.navigation.state.index-index;if(Math.abs(offset)>2){return null;}var ButtonContainer=function ButtonContainer(_ref){var children=_ref.children;return _react.default.createElement(_reactNative.Animated.View,{style:[buttonStyleInterpolator((0,_objectSpread3.default)({},_this2.props,props))]},children);};var LabelContainer=function LabelContainer(_ref2){var children=_ref2.children;return _react.default.createElement(_reactNative.Animated.View,{style:[labelStyleInterpolator((0,_objectSpread3.default)({},_this2.props,props))]},children);};var subView=renderer(props,ButtonContainer,LabelContainer);if(subView===null){return subView;}var pointerEvents=offset!==0||isStale?'none':'box-none';return _react.default.createElement(_reactNative.View,{key:name+\"_\"+key,pointerEvents:pointerEvents,style:[styles.item,styles[name],props.style]},subView);}},{key:\"_renderSubView\",value:function _renderSubView(props,name,renderer,styleInterpolator){var scene=props.scene;var index=scene.index,isStale=scene.isStale,key=scene.key;var offset=this.props.navigation.state.index-index;if(Math.abs(offset)>2){return null;}var subView=renderer(props);if(subView==null){return null;}var pointerEvents=offset!==0||isStale?'none':'box-none';return _react.default.createElement(_reactNative.Animated.View,{pointerEvents:pointerEvents,key:name+\"_\"+key,style:[styles.item,styles[name],props.style,styleInterpolator((0,_objectSpread3.default)({},this.props,props))]},subView);}},{key:\"_renderHeader\",value:function _renderHeader(props){var options=props.scene.descriptor.options;if(options.header===null){return null;}var left=this._renderLeft(props);var right=this._renderRight(props);var title=this._renderTitle(props,{hasLeftComponent:!!left,hasRightComponent:!!right,headerTitleContainerStyle:options.headerTitleContainerStyle});var transitionPreset=this.props.transitionPreset;var wrapperProps={style:styles.header,key:\"scene_\"+props.scene.key};if(options.headerLeft||options.headerBackImage||_reactNative.Platform.OS!=='ios'||transitionPreset!=='uikit'){return _react.default.createElement(_reactNative.View,wrapperProps,title,left,right);}else{return _react.default.createElement(_reactNative.MaskedViewIOS,(0,_extends2.default)({},wrapperProps,{maskElement:_react.default.createElement(_reactNative.View,{style:styles.iconMaskContainer},_react.default.createElement(_reactNative.Image,{source:require(\"../assets/back-icon-mask.png\"),style:styles.iconMask}),_react.default.createElement(_reactNative.View,{style:styles.iconMaskFillerRect}))}),title,left,right);}}},{key:\"render\",value:function render(){var _this3=this;var appBar;var background;var _this$props2=this.props,mode=_this$props2.mode,scene=_this$props2.scene,isLandscape=_this$props2.isLandscape;if(mode==='float'){var scenesByIndex={};this.props.scenes.forEach(function(scene){scenesByIndex[scene.index]=scene;});var scenesProps=Object.values(scenesByIndex).map(function(scene){return{position:_this3.props.position,scene:scene};});appBar=scenesProps.map(this._renderHeader,this);background=scenesProps.map(this._renderBackground,this);}else{var headerProps={position:new _reactNative.Animated.Value(this.props.scene.index),scene:this.props.scene};appBar=this._renderHeader(headerProps);background=this._renderBackground(headerProps);}var options=scene.descriptor.options;var _options$headerStyle=options.headerStyle,headerStyle=_options$headerStyle===void 0?{}:_options$headerStyle;var headerStyleObj=_reactNative.StyleSheet.flatten(headerStyle);var appBarHeight=getAppBarHeight(isLandscape);var alignItems=headerStyleObj.alignItems,justifyContent=headerStyleObj.justifyContent,flex=headerStyleObj.flex,flexDirection=headerStyleObj.flexDirection,flexGrow=headerStyleObj.flexGrow,flexShrink=headerStyleObj.flexShrink,flexBasis=headerStyleObj.flexBasis,flexWrap=headerStyleObj.flexWrap,position=headerStyleObj.position,padding=headerStyleObj.padding,paddingHorizontal=headerStyleObj.paddingHorizontal,paddingRight=headerStyleObj.paddingRight,paddingLeft=headerStyleObj.paddingLeft,top=headerStyleObj.top,right=headerStyleObj.right,bottom=headerStyleObj.bottom,left=headerStyleObj.left,safeHeaderStyle=(0,_objectWithoutProperties2.default)(headerStyleObj,[\"alignItems\",\"justifyContent\",\"flex\",\"flexDirection\",\"flexGrow\",\"flexShrink\",\"flexBasis\",\"flexWrap\",\"position\",\"padding\",\"paddingHorizontal\",\"paddingRight\",\"paddingLeft\",\"top\",\"right\",\"bottom\",\"left\"]);if(__DEV__){warnIfHeaderStyleDefined(alignItems,'alignItems');warnIfHeaderStyleDefined(justifyContent,'justifyContent');warnIfHeaderStyleDefined(flex,'flex');warnIfHeaderStyleDefined(flexDirection,'flexDirection');warnIfHeaderStyleDefined(flexGrow,'flexGrow');warnIfHeaderStyleDefined(flexShrink,'flexShrink');warnIfHeaderStyleDefined(flexBasis,'flexBasis');warnIfHeaderStyleDefined(flexWrap,'flexWrap');warnIfHeaderStyleDefined(padding,'padding');warnIfHeaderStyleDefined(position,'position');warnIfHeaderStyleDefined(paddingHorizontal,'paddingHorizontal');warnIfHeaderStyleDefined(paddingRight,'paddingRight');warnIfHeaderStyleDefined(paddingLeft,'paddingLeft');warnIfHeaderStyleDefined(top,'top');warnIfHeaderStyleDefined(right,'right');warnIfHeaderStyleDefined(bottom,'bottom');warnIfHeaderStyleDefined(left,'left');}var containerStyles=[options.headerTransparent?styles.transparentContainer:styles.container,{height:appBarHeight},safeHeaderStyle];var headerForceInset=options.headerForceInset;var forceInset=headerForceInset||{top:'always',bottom:'never',horizontal:'always'};return _react.default.createElement(_reactNative.Animated.View,{style:[this.props.layoutInterpolator(this.props),_reactNative.Platform.OS==='ios'&&!options.headerTransparent?{backgroundColor:safeHeaderStyle.backgroundColor||DEFAULT_BACKGROUND_COLOR}:null]},_react.default.createElement(_native.SafeAreaView,{forceInset:forceInset,style:containerStyles},background,_react.default.createElement(_reactNative.View,{style:styles.flexOne},appBar)));}}],[{key:\"HEIGHT\",get:function get(){return APPBAR_HEIGHT+STATUSBAR_HEIGHT;}}]);return Header;}(_react.default.PureComponent);Header.defaultProps={layoutInterpolator:_HeaderStyleInterpolator.default.forLayout,leftInterpolator:_HeaderStyleInterpolator.default.forLeft,leftButtonInterpolator:_HeaderStyleInterpolator.default.forLeftButton,leftLabelInterpolator:_HeaderStyleInterpolator.default.forLeftLabel,titleFromLeftInterpolator:_HeaderStyleInterpolator.default.forCenterFromLeft,titleInterpolator:_HeaderStyleInterpolator.default.forCenter,rightInterpolator:_HeaderStyleInterpolator.default.forRight,backgroundInterpolator:_HeaderStyleInterpolator.default.forBackground};function warnIfHeaderStyleDefined(value,styleProp){if(styleProp==='position'&&value==='absolute'){console.warn(\"position: 'absolute' is not supported on headerStyle. If you would like to render content under the header, use the headerTransparent navigationOption.\");}else if(value!==undefined){console.warn(styleProp+\" was given a value of \"+value+\", this has no effect on headerStyle.\");}}var platformContainerStyles;if(_reactNative.Platform.OS==='ios'){platformContainerStyles={borderBottomWidth:_reactNative.StyleSheet.hairlineWidth,borderBottomColor:'#A7A7AA'};}else{platformContainerStyles={elevation:4};}var DEFAULT_BACKGROUND_COLOR='#FFF';var styles=_reactNative.StyleSheet.create({container:(0,_objectSpread3.default)({backgroundColor:DEFAULT_BACKGROUND_COLOR},platformContainerStyles),transparentContainer:(0,_objectSpread3.default)({position:'absolute',top:0,left:0,right:0},platformContainerStyles,{borderBottomWidth:0,borderBottomColor:'transparent',elevation:0}),header:(0,_objectSpread3.default)({},_reactNative.StyleSheet.absoluteFillObject,{flexDirection:'row'}),item:{backgroundColor:'transparent'},iconMaskContainer:{flex:1,flexDirection:'row',justifyContent:'center'},iconMaskFillerRect:{flex:1,backgroundColor:'#d8d8d8',marginLeft:-5},iconMask:{height:23,width:14.5,marginLeft:8.5,marginTop:-2.5,alignSelf:'center',resizeMode:'contain',transform:[{scaleX:_reactNative.I18nManager.isRTL?-1:1}]},title:{bottom:0,top:0,position:'absolute',alignItems:'center',flexDirection:'row'},left:{left:0,bottom:0,top:0,position:'absolute',alignItems:'center',flexDirection:'row'},right:{right:0,bottom:0,top:0,position:'absolute',flexDirection:'row',alignItems:'center'},flexOne:{flex:1}});var _default=(0,_native.withOrientation)(Header);exports.default=_default;","map":{"version":3,"sources":["/Users/ntareguy/Downloads/gwizamobile1/node_modules/react-navigation-stack/dist/views/Header/Header.js"],"names":["APPBAR_HEIGHT","Platform","OS","STATUSBAR_HEIGHT","TITLE_OFFSET_CENTER_ALIGN","TITLE_OFFSET_LEFT_ALIGN","getTitleOffsets","layoutPreset","forceBackTitle","hasLeftComponent","hasRightComponent","style","left","right","getAppBarHeight","isLandscape","isPad","Header","state","widths","_renderTitleComponent","props","options","scene","descriptor","headerTitle","React","isValidElement","titleString","_getHeaderTitleString","titleStyle","headerTitleStyle","color","headerTintColor","allowFontScaling","headerTitleAllowFontScaling","onLayout","e","setState","key","nativeEvent","layout","width","undefined","HeaderTitleComponent","HeaderTitle","textAlign","_renderLeftComponent","headerLeft","index","backButtonTitle","_getBackButtonTitleString","truncatedBackButtonTitle","_getTruncatedBackButtonTitle","initWidth","RenderedLeftComponent","HeaderBackButton","goBack","requestAnimationFrame","navigation","headerPressColorAndroid","headerBackImage","backTitleVisible","headerBackTitleStyle","_renderModularLeftComponent","ButtonContainerComponent","LabelContainerComponent","_renderRightComponent","headerRight","title","__DEV__","Error","route","routeName","scenes","find","s","lastScene","_getLastScene","headerBackTitle","headerTruncatedBackTitle","transitionPreset","headerLeftContainerStyle","_renderSubView","leftInterpolator","_renderModularSubView","leftLabelInterpolator","leftButtonInterpolator","justifyContent","headerTitleContainerStyle","titleFromLeftInterpolator","titleInterpolator","headerRightContainerStyle","rightInterpolator","offset","Math","abs","StyleSheet","absoluteFill","headerBackground","backgroundInterpolator","name","renderer","labelStyleInterpolator","buttonStyleInterpolator","isStale","ButtonContainer","children","LabelContainer","subView","pointerEvents","styles","item","styleInterpolator","header","_renderLeft","_renderRight","_renderTitle","wrapperProps","iconMaskContainer","require","iconMask","iconMaskFillerRect","appBar","background","mode","scenesByIndex","forEach","scenesProps","Object","values","map","position","_renderHeader","_renderBackground","headerProps","Animated","Value","headerStyle","headerStyleObj","flatten","appBarHeight","alignItems","flex","flexDirection","flexGrow","flexShrink","flexBasis","flexWrap","padding","paddingHorizontal","paddingRight","paddingLeft","top","bottom","safeHeaderStyle","warnIfHeaderStyleDefined","containerStyles","headerTransparent","transparentContainer","container","height","headerForceInset","forceInset","horizontal","layoutInterpolator","backgroundColor","DEFAULT_BACKGROUND_COLOR","flexOne","PureComponent","defaultProps","HeaderStyleInterpolator","forLayout","forLeft","forLeftButton","forLeftLabel","forCenterFromLeft","forCenter","forRight","forBackground","value","styleProp","console","warn","platformContainerStyles","borderBottomWidth","hairlineWidth","borderBottomColor","elevation","create","absoluteFillObject","marginLeft","marginTop","alignSelf","resizeMode","transform","scaleX","I18nManager","isRTL"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { Animated, Image, Platform, StyleSheet, View, I18nManager, MaskedViewIOS } from 'react-native';\n\nimport { withOrientation, SafeAreaView } from '@react-navigation/native';\n\nimport HeaderTitle from './HeaderTitle';\nimport HeaderBackButton from './HeaderBackButton';\nimport ModularHeaderBackButton from './ModularHeaderBackButton';\nimport HeaderStyleInterpolator from './HeaderStyleInterpolator';\n\nconst APPBAR_HEIGHT = Platform.OS === 'ios' ? 44 : 56;\nconst STATUSBAR_HEIGHT = Platform.OS === 'ios' ? 20 : 0;\n\n// These can be adjusted by using headerTitleContainerStyle on navigationOptions\nconst TITLE_OFFSET_CENTER_ALIGN = Platform.OS === 'ios' ? 70 : 56;\nconst TITLE_OFFSET_LEFT_ALIGN = Platform.OS === 'ios' ? 20 : 56;\n\nconst getTitleOffsets = (layoutPreset, forceBackTitle, hasLeftComponent, hasRightComponent) => {\n  if (layoutPreset === 'left') {\n    // Maybe at some point we should do something different if the back title is\n    // explicitly enabled, for now people can control it manually\n\n    let style = {\n      left: TITLE_OFFSET_LEFT_ALIGN,\n      right: TITLE_OFFSET_LEFT_ALIGN\n    };\n\n    if (!hasLeftComponent) {\n      style.left = 0;\n    }\n    if (!hasRightComponent) {\n      style.right = 0;\n    }\n\n    return style;\n  } else if (layoutPreset === 'center') {\n    let style = {\n      left: TITLE_OFFSET_CENTER_ALIGN,\n      right: TITLE_OFFSET_CENTER_ALIGN\n    };\n    if (!hasLeftComponent && !hasRightComponent) {\n      style.left = 0;\n      style.right = 0;\n    }\n\n    return style;\n  }\n};\n\nconst getAppBarHeight = isLandscape => {\n  return Platform.OS === 'ios' ? isLandscape && !Platform.isPad ? 32 : 44 : 56;\n};\n\nclass Header extends React.PureComponent {\n  static get HEIGHT() {\n    return APPBAR_HEIGHT + STATUSBAR_HEIGHT;\n  }\n\n  static defaultProps = {\n    layoutInterpolator: HeaderStyleInterpolator.forLayout,\n    leftInterpolator: HeaderStyleInterpolator.forLeft,\n    leftButtonInterpolator: HeaderStyleInterpolator.forLeftButton,\n    leftLabelInterpolator: HeaderStyleInterpolator.forLeftLabel,\n    titleFromLeftInterpolator: HeaderStyleInterpolator.forCenterFromLeft,\n    titleInterpolator: HeaderStyleInterpolator.forCenter,\n    rightInterpolator: HeaderStyleInterpolator.forRight,\n    backgroundInterpolator: HeaderStyleInterpolator.forBackground\n  };\n\n  state = {\n    widths: {}\n  };\n\n  _getHeaderTitleString(scene) {\n    const options = scene.descriptor.options;\n    if (typeof options.headerTitle === 'string') {\n      return options.headerTitle;\n    }\n\n    if (options.title && typeof options.title !== 'string' && __DEV__) {\n      throw new Error(`Invalid title for route \"${scene.route.routeName}\" - title must be string or null, instead it was of type ${typeof options.title}`);\n    }\n\n    return options.title;\n  }\n\n  _getLastScene(scene) {\n    return this.props.scenes.find(s => s.index === scene.index - 1);\n  }\n\n  _getBackButtonTitleString(scene) {\n    const lastScene = this._getLastScene(scene);\n    if (!lastScene) {\n      return null;\n    }\n    const { headerBackTitle } = lastScene.descriptor.options;\n    if (headerBackTitle || headerBackTitle === null) {\n      return headerBackTitle;\n    }\n    return this._getHeaderTitleString(lastScene);\n  }\n\n  _getTruncatedBackButtonTitle(scene) {\n    const lastScene = this._getLastScene(scene);\n    if (!lastScene) {\n      return null;\n    }\n    return lastScene.descriptor.options.headerTruncatedBackTitle;\n  }\n\n  _renderTitleComponent = props => {\n    const { layoutPreset } = this.props;\n    const { options } = props.scene.descriptor;\n    const headerTitle = options.headerTitle;\n    if (React.isValidElement(headerTitle)) {\n      return headerTitle;\n    }\n    const titleString = this._getHeaderTitleString(props.scene);\n\n    const titleStyle = options.headerTitleStyle;\n    const color = options.headerTintColor;\n    const allowFontScaling = options.headerTitleAllowFontScaling;\n\n    // When title is centered, the width of left/right components depends on the\n    // calculated size of the title.\n    const onLayout = layoutPreset === 'center' ? e => {\n      this.setState({\n        widths: {\n          ...this.state.widths,\n          [props.scene.key]: e.nativeEvent.layout.width\n        }\n      });\n    } : undefined;\n\n    const HeaderTitleComponent = headerTitle && typeof headerTitle !== 'string' ? headerTitle : HeaderTitle;\n    return <HeaderTitleComponent onLayout={onLayout} allowFontScaling={allowFontScaling == null ? true : allowFontScaling} style={[color ? { color } : null, layoutPreset === 'center' ? { textAlign: 'center' } : { textAlign: 'left' }, titleStyle]}>\n        {titleString}\n      </HeaderTitleComponent>;\n  };\n\n  _renderLeftComponent = props => {\n    const { options } = props.scene.descriptor;\n    if (React.isValidElement(options.headerLeft) || options.headerLeft === null) {\n      return options.headerLeft;\n    }\n\n    if (!options.headerLeft && props.scene.index === 0) {\n      return;\n    }\n\n    const backButtonTitle = this._getBackButtonTitleString(props.scene);\n    const truncatedBackButtonTitle = this._getTruncatedBackButtonTitle(props.scene);\n    const width = this.state.widths[props.scene.key] ? (this.props.layout.initWidth - this.state.widths[props.scene.key]) / 2 : undefined;\n    const RenderedLeftComponent = options.headerLeft || HeaderBackButton;\n    const goBack = () => {\n      // Go back on next tick because button ripple effect needs to happen on Android\n      requestAnimationFrame(() => {\n        props.scene.descriptor.navigation.goBack(props.scene.descriptor.key);\n      });\n    };\n    return <RenderedLeftComponent onPress={goBack} pressColorAndroid={options.headerPressColorAndroid} tintColor={options.headerTintColor} backImage={options.headerBackImage} title={backButtonTitle} truncatedTitle={truncatedBackButtonTitle} backTitleVisible={this.props.backTitleVisible} titleStyle={options.headerBackTitleStyle} layoutPreset={this.props.layoutPreset} width={width} scene={props.scene} />;\n  };\n\n  _renderModularLeftComponent = (props, ButtonContainerComponent, LabelContainerComponent) => {\n    const { options, navigation } = props.scene.descriptor;\n    const backButtonTitle = this._getBackButtonTitleString(props.scene);\n    const truncatedBackButtonTitle = this._getTruncatedBackButtonTitle(props.scene);\n    const width = this.state.widths[props.scene.key] ? (this.props.layout.initWidth - this.state.widths[props.scene.key]) / 2 : undefined;\n\n    const goBack = () => {\n      // Go back on next tick because button ripple effect needs to happen on Android\n      requestAnimationFrame(() => {\n        navigation.goBack(props.scene.descriptor.key);\n      });\n    };\n\n    return <ModularHeaderBackButton onPress={goBack} ButtonContainerComponent={ButtonContainerComponent} LabelContainerComponent={LabelContainerComponent} backTitleVisible={this.props.backTitleVisible} pressColorAndroid={options.headerPressColorAndroid} tintColor={options.headerTintColor} backImage={options.headerBackImage} title={backButtonTitle} truncatedTitle={truncatedBackButtonTitle} titleStyle={options.headerBackTitleStyle} width={width} />;\n  };\n\n  _renderRightComponent = props => {\n    const { headerRight } = props.scene.descriptor.options;\n    return headerRight || null;\n  };\n\n  _renderLeft(props) {\n    const { options } = props.scene.descriptor;\n\n    const { transitionPreset } = this.props;\n\n    let { style } = props;\n    if (options.headerLeftContainerStyle) {\n      style = [style, options.headerLeftContainerStyle];\n    }\n\n    // On Android, or if we have a custom header left, or if we have a custom back image, we\n    // do not use the modular header (which is the one that imitates UINavigationController)\n    if (transitionPreset !== 'uikit' || options.headerBackImage || options.headerLeft || options.headerLeft === null) {\n      return this._renderSubView({ ...props, style }, 'left', this._renderLeftComponent, this.props.leftInterpolator);\n    } else {\n      return this._renderModularSubView({ ...props, style }, 'left', this._renderModularLeftComponent, this.props.leftLabelInterpolator, this.props.leftButtonInterpolator);\n    }\n  }\n\n  _renderTitle(props, options) {\n    const { layoutPreset, transitionPreset } = this.props;\n    let style = [{ justifyContent: layoutPreset === 'center' ? 'center' : 'flex-start' }, getTitleOffsets(layoutPreset, false, options.hasLeftComponent, options.hasRightComponent), options.headerTitleContainerStyle];\n\n    return this._renderSubView({ ...props, style }, 'title', this._renderTitleComponent, transitionPreset === 'uikit' ? this.props.titleFromLeftInterpolator : this.props.titleInterpolator);\n  }\n\n  _renderRight(props) {\n    const { options } = props.scene.descriptor;\n\n    let { style } = props;\n    if (options.headerRightContainerStyle) {\n      style = [style, options.headerRightContainerStyle];\n    }\n\n    return this._renderSubView({ ...props, style }, 'right', this._renderRightComponent, this.props.rightInterpolator);\n  }\n\n  _renderBackground(props) {\n    const {\n      index,\n      descriptor: { options }\n    } = props.scene;\n\n    const offset = this.props.navigation.state.index - index;\n\n    if (Math.abs(offset) > 2) {\n      // Scene is far away from the active scene. Hides it to avoid unnecessary\n      // rendering.\n      return null;\n    }\n\n    return this._renderSubView({ ...props, style: StyleSheet.absoluteFill }, 'background', () => options.headerBackground, this.props.backgroundInterpolator);\n  }\n\n  _renderModularSubView(props, name, renderer, labelStyleInterpolator, buttonStyleInterpolator) {\n    const { scene } = props;\n    const { index, isStale, key } = scene;\n\n    // Never render a modular back button on the first screen in a stack.\n    if (index === 0) {\n      return;\n    }\n\n    const offset = this.props.navigation.state.index - index;\n\n    if (Math.abs(offset) > 2) {\n      // Scene is far away from the active scene. Hides it to avoid unnecessary\n      // rendering.\n      return null;\n    }\n\n    const ButtonContainer = ({ children }) => <Animated.View style={[buttonStyleInterpolator({ ...this.props, ...props })]}>\n        {children}\n      </Animated.View>;\n\n    const LabelContainer = ({ children }) => <Animated.View style={[labelStyleInterpolator({ ...this.props, ...props })]}>\n        {children}\n      </Animated.View>;\n\n    const subView = renderer(props, ButtonContainer, LabelContainer);\n\n    if (subView === null) {\n      return subView;\n    }\n\n    const pointerEvents = offset !== 0 || isStale ? 'none' : 'box-none';\n\n    return <View key={`${name}_${key}`} pointerEvents={pointerEvents} style={[styles.item, styles[name], props.style]}>\n        {subView}\n      </View>;\n  }\n\n  _renderSubView(props, name, renderer, styleInterpolator) {\n    const { scene } = props;\n    const { index, isStale, key } = scene;\n\n    const offset = this.props.navigation.state.index - index;\n\n    if (Math.abs(offset) > 2) {\n      // Scene is far away from the active scene. Hides it to avoid unnecessary\n      // rendering.\n      return null;\n    }\n\n    const subView = renderer(props);\n\n    if (subView == null) {\n      return null;\n    }\n\n    const pointerEvents = offset !== 0 || isStale ? 'none' : 'box-none';\n\n    return <Animated.View pointerEvents={pointerEvents} key={`${name}_${key}`} style={[styles.item, styles[name], props.style, styleInterpolator({\n      ...this.props,\n      ...props\n    })]}>\n        {subView}\n      </Animated.View>;\n  }\n\n  _renderHeader(props) {\n    const { options } = props.scene.descriptor;\n    if (options.header === null) {\n      return null;\n    }\n    const left = this._renderLeft(props);\n    const right = this._renderRight(props);\n    const title = this._renderTitle(props, {\n      hasLeftComponent: !!left,\n      hasRightComponent: !!right,\n      headerTitleContainerStyle: options.headerTitleContainerStyle\n    });\n\n    const { transitionPreset } = this.props;\n\n    const wrapperProps = {\n      style: styles.header,\n      key: `scene_${props.scene.key}`\n    };\n\n    if (options.headerLeft || options.headerBackImage || Platform.OS !== 'ios' || transitionPreset !== 'uikit') {\n      return <View {...wrapperProps}>\n          {title}\n          {left}\n          {right}\n        </View>;\n    } else {\n      return <MaskedViewIOS {...wrapperProps} maskElement={<View style={styles.iconMaskContainer}>\n              <Image source={require('../assets/back-icon-mask.png')} style={styles.iconMask} />\n              <View style={styles.iconMaskFillerRect} />\n            </View>}>\n          {title}\n          {left}\n          {right}\n        </MaskedViewIOS>;\n    }\n  }\n\n  render() {\n    let appBar;\n    let background;\n    const { mode, scene, isLandscape } = this.props;\n\n    if (mode === 'float') {\n      const scenesByIndex = {};\n      this.props.scenes.forEach(scene => {\n        scenesByIndex[scene.index] = scene;\n      });\n      const scenesProps = Object.values(scenesByIndex).map(scene => ({\n        position: this.props.position,\n        scene\n      }));\n      appBar = scenesProps.map(this._renderHeader, this);\n      background = scenesProps.map(this._renderBackground, this);\n    } else {\n      const headerProps = {\n        position: new Animated.Value(this.props.scene.index),\n        scene: this.props.scene\n      };\n\n      appBar = this._renderHeader(headerProps);\n      background = this._renderBackground(headerProps);\n    }\n\n    const { options } = scene.descriptor;\n    const { headerStyle = {} } = options;\n    const headerStyleObj = StyleSheet.flatten(headerStyle);\n    const appBarHeight = getAppBarHeight(isLandscape);\n\n    const {\n      alignItems,\n      justifyContent,\n      flex,\n      flexDirection,\n      flexGrow,\n      flexShrink,\n      flexBasis,\n      flexWrap,\n      position,\n      padding,\n      paddingHorizontal,\n      paddingRight,\n      paddingLeft,\n      // paddingVertical,\n      // paddingTop,\n      // paddingBottom,\n      top,\n      right,\n      bottom,\n      left,\n      ...safeHeaderStyle\n    } = headerStyleObj;\n\n    if (__DEV__) {\n      warnIfHeaderStyleDefined(alignItems, 'alignItems');\n      warnIfHeaderStyleDefined(justifyContent, 'justifyContent');\n      warnIfHeaderStyleDefined(flex, 'flex');\n      warnIfHeaderStyleDefined(flexDirection, 'flexDirection');\n      warnIfHeaderStyleDefined(flexGrow, 'flexGrow');\n      warnIfHeaderStyleDefined(flexShrink, 'flexShrink');\n      warnIfHeaderStyleDefined(flexBasis, 'flexBasis');\n      warnIfHeaderStyleDefined(flexWrap, 'flexWrap');\n      warnIfHeaderStyleDefined(padding, 'padding');\n      warnIfHeaderStyleDefined(position, 'position');\n      warnIfHeaderStyleDefined(paddingHorizontal, 'paddingHorizontal');\n      warnIfHeaderStyleDefined(paddingRight, 'paddingRight');\n      warnIfHeaderStyleDefined(paddingLeft, 'paddingLeft');\n      // warnIfHeaderStyleDefined(paddingVertical, 'paddingVertical');\n      // warnIfHeaderStyleDefined(paddingTop, 'paddingTop');\n      // warnIfHeaderStyleDefined(paddingBottom, 'paddingBottom');\n      warnIfHeaderStyleDefined(top, 'top');\n      warnIfHeaderStyleDefined(right, 'right');\n      warnIfHeaderStyleDefined(bottom, 'bottom');\n      warnIfHeaderStyleDefined(left, 'left');\n    }\n\n    // TODO: warn if any unsafe styles are provided\n    const containerStyles = [options.headerTransparent ? styles.transparentContainer : styles.container, { height: appBarHeight }, safeHeaderStyle];\n\n    const { headerForceInset } = options;\n    const forceInset = headerForceInset || {\n      top: 'always',\n      bottom: 'never',\n      horizontal: 'always'\n    };\n\n    return <Animated.View style={[this.props.layoutInterpolator(this.props), Platform.OS === 'ios' && !options.headerTransparent ? {\n      backgroundColor: safeHeaderStyle.backgroundColor || DEFAULT_BACKGROUND_COLOR\n    } : null]}>\n        <SafeAreaView forceInset={forceInset} style={containerStyles}>\n          {background}\n          <View style={styles.flexOne}>{appBar}</View>\n        </SafeAreaView>\n      </Animated.View>;\n  }\n}\n\nfunction warnIfHeaderStyleDefined(value, styleProp) {\n  if (styleProp === 'position' && value === 'absolute') {\n    console.warn(\"position: 'absolute' is not supported on headerStyle. If you would like to render content under the header, use the headerTransparent navigationOption.\");\n  } else if (value !== undefined) {\n    console.warn(`${styleProp} was given a value of ${value}, this has no effect on headerStyle.`);\n  }\n}\n\nlet platformContainerStyles;\nif (Platform.OS === 'ios') {\n  platformContainerStyles = {\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    borderBottomColor: '#A7A7AA'\n  };\n} else {\n  platformContainerStyles = {\n    elevation: 4\n  };\n}\n\nconst DEFAULT_BACKGROUND_COLOR = '#FFF';\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: DEFAULT_BACKGROUND_COLOR,\n    ...platformContainerStyles\n  },\n  transparentContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    ...platformContainerStyles,\n    borderBottomWidth: 0,\n    borderBottomColor: 'transparent',\n    elevation: 0\n  },\n  header: {\n    ...StyleSheet.absoluteFillObject,\n    flexDirection: 'row'\n  },\n  item: {\n    backgroundColor: 'transparent'\n  },\n  iconMaskContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'center'\n  },\n  iconMaskFillerRect: {\n    flex: 1,\n    backgroundColor: '#d8d8d8',\n    marginLeft: -5\n  },\n  iconMask: {\n    // These are mostly the same as the icon in ModularHeaderBackButton\n    height: 23,\n    width: 14.5,\n    marginLeft: 8.5,\n    marginTop: -2.5,\n    alignSelf: 'center',\n    resizeMode: 'contain',\n    transform: [{ scaleX: I18nManager.isRTL ? -1 : 1 }]\n  },\n  // eslint-disable-next-line react-native/no-unused-styles\n  title: {\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  // eslint-disable-next-line react-native/no-unused-styles\n  left: {\n    left: 0,\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  // eslint-disable-next-line react-native/no-unused-styles\n  right: {\n    right: 0,\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  flexOne: {\n    flex: 1\n  }\n});\n\nexport default withOrientation(Header);"]},"metadata":{},"sourceType":"script"}